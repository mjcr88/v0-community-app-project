try{
(()=>{var Pe="storybook/interactions",U=`${Pe}/panel`,Ne="writing-tests/integrations/vitest-addon",Bt=`${Ne}#what-happens-when-there-are-different-test-results-in-multiple-environments`,T="storybook/a11y",x=`${T}/panel`,Ut=`${T}/ui`,xt=`${T}/result`,jt=`${T}/request`,Mt=`${T}/running`,Gt=`${T}/error`,Ft=`${T}/manual`,Yt=`${T}/select`,De="writing-tests/accessibility-testing",Ht=`${De}#why-are-my-tests-failing-in-different-environments`,y="storybook/test",J=`${y}/test-provider`,Z=`${y}/channel`,Le="writing-tests/integrations/vitest-addon",Q=`${Le}#what-happens-if-vitest-itself-has-an-error`,j={id:y,initialState:{config:{coverage:!1,a11y:!1},watching:!1,cancelling:!1,fatalError:void 0,indexUrl:void 0,previewAnnotations:[],currentRun:{triggeredBy:void 0,config:{coverage:!1,a11y:!1},componentTestCount:{success:0,error:0},a11yCount:{success:0,warning:0,error:0},storyIds:void 0,totalTestCount:void 0,startedAt:void 0,finishedAt:void 0,unhandledErrors:[],coverageSummary:void 0}}},V=["global","run-all"],$t=`UNIVERSAL_STORE:${j.id}`,M="storybook/component-test",G="storybook/a11y";var o=__REACT__,{Children:Jt,Component:Zt,Fragment:Qt,Profiler:Vt,PureComponent:qt,StrictMode:eo,Suspense:to,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:oo,act:no,cloneElement:ro,createContext:ao,createElement:lo,createFactory:so,createRef:co,forwardRef:io,isValidElement:uo,lazy:mo,memo:po,startTransition:Io,unstable_act:go,useCallback:F,useContext:q,useDebugValue:_o,useDeferredValue:fo,useEffect:N,useId:To,useImperativeHandle:Eo,useInsertionEffect:ho,useLayoutEffect:bo,useMemo:ee,useReducer:So,useRef:te,useState:A,useSyncExternalStore:vo,useTransition:yo,version:Ao}=__REACT__;var Po=__STORYBOOK_TYPES__,{Addon_TypesEnum:oe,CoreWebpackCompiler:No,Feature:Do,SupportedBuilder:ne,SupportedFramework:Lo,SupportedLanguage:ko,SupportedRenderer:Bo}=__STORYBOOK_TYPES__;var Go=__STORYBOOK_API__,{ActiveTabs:Fo,Consumer:Yo,ManagerContext:Ho,Provider:$o,RequestResponseError:Wo,addons:w,combineParameters:Ko,controlOrMetaKey:zo,controlOrMetaSymbol:Xo,eventMatchesShortcut:Jo,eventToShortcut:Zo,experimental_MockUniversalStore:Qo,experimental_UniversalStore:re,experimental_getStatusStore:Y,experimental_getTestProviderStore:ae,experimental_requestResponse:Vo,experimental_useStatusStore:H,experimental_useTestProviderStore:le,experimental_useUniversalStore:se,internal_checklistStore:qo,internal_fullStatusStore:en,internal_fullTestProviderStore:tn,internal_universalChecklistStore:on,internal_universalStatusStore:nn,internal_universalTestProviderStore:rn,isMacLike:an,isShortcutTaken:ln,keyToSymbol:sn,merge:cn,mockChannel:un,optionOrAltSymbol:dn,shortcutMatchesShortcut:mn,shortcutToAriaKeyshortcuts:pn,shortcutToHumanString:In,types:gn,useAddonState:_n,useArgTypes:fn,useArgs:Tn,useChannel:En,useGlobalTypes:hn,useGlobals:bn,useParameter:Sn,useSharedState:vn,useStoryPrepared:yn,useStorybookApi:ce,useStorybookState:An}=__STORYBOOK_API__;var Pn=__STORYBOOK_COMPONENTS__,{A:Nn,AbstractToolbar:Dn,ActionBar:Ln,ActionList:p,AddonPanel:kn,Badge:Bn,Bar:Un,Blockquote:xn,Button:C,Card:jn,ClipboardCode:Mn,Code:Gn,Collapsible:Fn,DL:Yn,Div:Hn,DocumentWrapper:$n,EmptyTabContent:Wn,ErrorFormatter:Kn,FlexBar:zn,Form:D,H1:Xn,H2:Jn,H3:Zn,H4:Qn,H5:Vn,H6:qn,HR:er,IconButton:tr,Img:or,LI:nr,Link:$,ListItem:rr,Loader:ar,Modal:L,ModalDecorator:lr,OL:sr,P:cr,Placeholder:ir,Popover:ur,PopoverProvider:dr,Pre:mr,ProgressSpinner:ie,ResetWrapper:pr,ScrollArea:Ir,Select:gr,Separator:_r,Spaced:fr,Span:Tr,StatelessTab:Er,StatelessTabList:hr,StatelessTabPanel:br,StatelessTabsView:Sr,StorybookIcon:vr,StorybookLogo:yr,SyntaxHighlighter:Ar,TT:Cr,TabBar:Or,TabButton:wr,TabList:Rr,TabPanel:Pr,TabWrapper:Nr,Table:Dr,Tabs:Lr,TabsState:kr,TabsView:Br,ToggleButton:ue,Toolbar:Ur,Tooltip:xr,TooltipLinkList:jr,TooltipMessage:Mr,TooltipNote:Gr,TooltipProvider:Fr,UL:Yr,WithTooltip:Hr,WithTooltipPure:$r,Zoom:Wr,codeCommon:Kr,components:zr,convertToReactAriaPlacement:Xr,createCopyToClipboardFunction:Jr,getStoryHref:Zr,interleaveSeparators:Qr,nameSpaceClassNames:Vr,resetComponents:qr,useTabsState:ea,withReset:ta}=__STORYBOOK_COMPONENTS__;var la=__STORYBOOK_ICONS__,{AccessibilityAltIcon:sa,AccessibilityIcon:ca,AccessibilityIgnoredIcon:ia,AddIcon:ua,AdminIcon:da,AlertAltIcon:ma,AlertIcon:pa,AlignLeftIcon:Ia,AlignRightIcon:ga,AppleIcon:_a,ArrowBottomLeftIcon:fa,ArrowBottomRightIcon:Ta,ArrowDownIcon:Ea,ArrowLeftIcon:ha,ArrowRightIcon:ba,ArrowSolidDownIcon:Sa,ArrowSolidLeftIcon:va,ArrowSolidRightIcon:ya,ArrowSolidUpIcon:Aa,ArrowTopLeftIcon:Ca,ArrowTopRightIcon:Oa,ArrowUpIcon:wa,AzureDevOpsIcon:Ra,BackIcon:Pa,BasketIcon:Na,BatchAcceptIcon:Da,BatchDenyIcon:La,BeakerIcon:ka,BellIcon:Ba,BitbucketIcon:Ua,BoldIcon:xa,BookIcon:ja,BookmarkHollowIcon:Ma,BookmarkIcon:Ga,BottomBarIcon:Fa,BottomBarToggleIcon:Ya,BoxIcon:Ha,BranchIcon:$a,BrowserIcon:Wa,BugIcon:Ka,ButtonIcon:za,CPUIcon:Xa,CalendarIcon:Ja,CameraIcon:Za,CameraStabilizeIcon:Qa,CategoryIcon:Va,CertificateIcon:qa,ChangedIcon:el,ChatIcon:tl,CheckIcon:ol,ChevronDownIcon:nl,ChevronLeftIcon:rl,ChevronRightIcon:al,ChevronSmallDownIcon:ll,ChevronSmallLeftIcon:sl,ChevronSmallRightIcon:cl,ChevronSmallUpIcon:il,ChevronUpIcon:ul,ChromaticIcon:dl,ChromeIcon:ml,CircleHollowIcon:pl,CircleIcon:Il,ClearIcon:gl,CloseAltIcon:_l,CloseIcon:fl,CloudHollowIcon:Tl,CloudIcon:El,CogIcon:hl,CollapseIcon:bl,CommandIcon:Sl,CommentAddIcon:vl,CommentIcon:yl,CommentsIcon:Al,CommitIcon:Cl,CompassIcon:Ol,ComponentDrivenIcon:wl,ComponentIcon:Rl,ContrastIcon:Pl,ContrastIgnoredIcon:Nl,ControlsIcon:Dl,CopyIcon:Ll,CreditIcon:kl,CrossIcon:Bl,DashboardIcon:Ul,DatabaseIcon:xl,DeleteIcon:jl,DiamondIcon:Ml,DirectionIcon:Gl,DiscordIcon:Fl,DocChartIcon:Yl,DocListIcon:Hl,DocumentIcon:$l,DownloadIcon:Wl,DragIcon:Kl,EditIcon:zl,EditorIcon:Xl,EllipsisIcon:Jl,EmailIcon:Zl,ExpandAltIcon:Ql,ExpandIcon:Vl,EyeCloseIcon:ql,EyeIcon:de,FaceHappyIcon:es,FaceNeutralIcon:ts,FaceSadIcon:os,FacebookIcon:ns,FailedIcon:rs,FastForwardIcon:as,FigmaIcon:ls,FilterIcon:ss,FlagIcon:cs,FolderIcon:is,FormIcon:us,GDriveIcon:ds,GiftIcon:ms,GithubIcon:ps,GitlabIcon:Is,GlobeIcon:gs,GoogleIcon:_s,GraphBarIcon:fs,GraphLineIcon:Ts,GraphqlIcon:Es,GridAltIcon:hs,GridIcon:bs,GrowIcon:Ss,HeartHollowIcon:vs,HeartIcon:ys,HomeIcon:As,HourglassIcon:Cs,InfoIcon:me,ItalicIcon:Os,JumpToIcon:ws,KeyIcon:Rs,LightningIcon:Ps,LightningOffIcon:Ns,LinkBrokenIcon:Ds,LinkIcon:Ls,LinkedinIcon:ks,LinuxIcon:Bs,ListOrderedIcon:Us,ListUnorderedIcon:xs,LocationIcon:js,LockIcon:Ms,MarkdownIcon:Gs,MarkupIcon:Fs,MediumIcon:Ys,MemoryIcon:Hs,MenuIcon:$s,MergeIcon:Ws,MirrorIcon:Ks,MobileIcon:zs,MoonIcon:Xs,NutIcon:Js,OutboxIcon:Zs,OutlineIcon:Qs,PaintBrushAltIcon:Vs,PaintBrushIcon:qs,PaperClipIcon:ec,ParagraphIcon:tc,PassedIcon:oc,PhoneIcon:nc,PhotoDragIcon:rc,PhotoIcon:ac,PhotoStabilizeIcon:lc,PinAltIcon:sc,PinIcon:cc,PlayAllHollowIcon:ic,PlayBackIcon:uc,PlayHollowIcon:pe,PlayIcon:dc,PlayNextIcon:mc,PlusIcon:pc,PointerDefaultIcon:Ic,PointerHandIcon:gc,PowerIcon:_c,PrintIcon:fc,ProceedIcon:Tc,ProfileIcon:Ec,PullRequestIcon:hc,QuestionIcon:bc,RSSIcon:Sc,RedirectIcon:vc,ReduxIcon:yc,RefreshIcon:Ac,ReplyIcon:Cc,RepoIcon:Oc,RequestChangeIcon:wc,RewindIcon:Rc,RulerIcon:Pc,SaveIcon:Nc,SearchIcon:Dc,ShareAltIcon:Lc,ShareIcon:kc,ShieldIcon:Bc,SideBySideIcon:Uc,SidebarAltIcon:xc,SidebarAltToggleIcon:jc,SidebarIcon:Mc,SidebarToggleIcon:Gc,SortDownIcon:Fc,SortUpIcon:Yc,SpeakerIcon:Hc,StackedIcon:$c,StarHollowIcon:Wc,StarIcon:Kc,StatusFailIcon:zc,StatusIcon:Xc,StatusPassIcon:Jc,StatusWarnIcon:Zc,StickerIcon:Qc,StopAltHollowIcon:Vc,StopAltIcon:Ie,StopIcon:qc,StorybookIcon:ei,StructureIcon:ti,SubtractIcon:oi,SunIcon:ni,SupportIcon:ri,SweepIcon:ai,SwitchAltIcon:li,SyncIcon:ge,TabletIcon:si,ThumbsUpIcon:ci,TimeIcon:ii,TimerIcon:ui,TransferIcon:di,TrashIcon:mi,TwitterIcon:pi,TypeIcon:Ii,UbuntuIcon:gi,UndoIcon:_i,UnfoldIcon:fi,UnlockIcon:Ti,UnpinIcon:Ei,UploadIcon:hi,UserAddIcon:bi,UserAltIcon:Si,UserIcon:vi,UsersIcon:yi,VSCodeIcon:Ai,VerifiedIcon:Ci,VideoIcon:Oi,WandIcon:wi,WatchIcon:Ri,WindowsIcon:Pi,WrenchIcon:Ni,XIcon:Di,YoutubeIcon:Li,ZoomIcon:ki,ZoomOutIcon:Bi,ZoomResetIcon:Ui,iconList:xi}=__STORYBOOK_ICONS__;var Yi=__STORYBOOK_THEMING__,{CacheProvider:Hi,ClassNames:$i,Global:Wi,ThemeProvider:Ki,background:zi,color:Xi,convert:Ji,create:Zi,createCache:Qi,createGlobal:Vi,createReset:qi,css:eu,darken:tu,ensure:ou,getPreferredColorScheme:nu,ignoreSsrWarning:ru,isPropValid:au,jsx:lu,keyframes:su,lighten:cu,styled:I,themes:iu,tokens:uu,typography:du,useTheme:mu,withTheme:pu}=__STORYBOOK_THEMING__;var E=re.create({...j,leader:globalThis.CONFIG_TYPE==="PRODUCTION"}),ke=Y(M),Be=Y(G),ve=ae(y),Ue=I.div({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 6px 6px 20px"}),xe=I.div({display:"flex",justifyContent:"space-between",alignItems:"center"}),je=I(L.Title)(({theme:{typography:e}})=>({fontSize:e.size.s2,fontWeight:e.weight.bold})),Me=I.pre(({theme:e})=>({whiteSpace:"pre-wrap",wordWrap:"break-word",overflow:"auto",maxHeight:"60vh",margin:0,padding:"20px",fontFamily:e.typography.fonts.mono,fontSize:"12px",borderTop:`1px solid ${e.appBorderColor}`,borderRadius:0})),Ge=I.a(({theme:e})=>({color:e.color.defaultText})),z=o.createContext({isModalOpen:!1,setModalOpen:void 0});function K({error:e}){return e?o.createElement("div",null,o.createElement("h4",null,"Caused by: ",e.name||"Error",": ",e.message),e.stack&&o.createElement("pre",null,e.stack),e.cause&&o.createElement(K,{error:e.cause})):null}function Fe({onRerun:e,storeState:t}){let n=ce(),{isModalOpen:s,setModalOpen:i}=q(z),r=n.getDocsUrl({subpath:Q,versioned:!0,renderer:!0}),{fatalError:a,currentRun:{unhandledErrors:d}}=t,c=a?o.createElement(o.Fragment,null,o.createElement("p",null,a.error.name||"Error"),a.message&&o.createElement("p",null,a.message),a.error.message&&o.createElement("p",null,a.error.message),a.error.stack&&o.createElement("p",null,a.error.stack),a.error.cause&&o.createElement(K,{error:a.error.cause})):d.length>0?o.createElement("ol",null,d.map(l=>o.createElement("li",{key:l.name+l.message},o.createElement("p",null,l.name,": ",l.message),l.VITEST_TEST_PATH&&o.createElement("p",null,'This error originated in "',o.createElement("b",null,l.VITEST_TEST_PATH),`". It doesn't mean the error was thrown inside the file itself, but while it was running.`),l.VITEST_TEST_NAME&&o.createElement(o.Fragment,null,o.createElement("p",null,`The latest test that might've caused the error is "`,o.createElement("b",null,l.VITEST_TEST_NAME),'". It might mean one of the following:'),o.createElement("ul",null,o.createElement("li",null,"The error was thrown, while Vitest was running this test."),o.createElement("li",null,"If the error occurred after the test had been completed, this was the last documented test before it was thrown."))),l.stacks&&o.createElement(o.Fragment,null,o.createElement("p",null,o.createElement("b",null,"Stacks:")),o.createElement("ul",null,l.stacks.map(u=>o.createElement("li",{key:u.file+u.line+u.column},u.file,":",u.line,":",u.column," - ",u.method||"unknown method")))),l.stack&&o.createElement("p",null,l.stack),l.cause?o.createElement(K,{error:l.cause}):null))):null;return o.createElement(L,{ariaLabel:"Storybook Tests error details",onOpenChange:i,open:s},o.createElement(Ue,null,o.createElement(je,null,"Storybook Tests error details"),o.createElement(xe,null,o.createElement(C,{onClick:e,variant:"ghost",ariaLabel:!1},o.createElement(ge,null),"Rerun"),o.createElement(C,{variant:"ghost",ariaLabel:!1,asChild:!0},o.createElement("a",{target:"_blank",href:r,rel:"noreferrer"},"Troubleshoot")),o.createElement(L.Close,null))),o.createElement(Me,null,c,o.createElement("br",null),o.createElement("br",null),"Troubleshoot:"," ",o.createElement(Ge,{target:"_blank",href:r},r)))}function _e(e){if(!e||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function fe(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Te(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var Ye="[object RegExp]",He="[object String]",$e="[object Number]",We="[object Boolean]",Ee="[object Arguments]",Ke="[object Symbol]",ze="[object Date]",Xe="[object Map]",Je="[object Set]",Ze="[object Array]",Qe="[object Function]",Ve="[object ArrayBuffer]",W="[object Object]",qe="[object Error]",et="[object DataView]",tt="[object Uint8Array]",ot="[object Uint8ClampedArray]",nt="[object Uint16Array]",rt="[object Uint32Array]",at="[object BigUint64Array]",lt="[object Int8Array]",st="[object Int16Array]",ct="[object Int32Array]",it="[object BigInt64Array]",ut="[object Float32Array]",dt="[object Float64Array]";function mt(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function pt(e,t,n){return R(e,t,void 0,void 0,void 0,void 0,n)}function R(e,t,n,s,i,r,a){let d=a(e,t,n,s,i,r);if(d!==void 0)return d;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return P(e,t,r,a)}return P(e,t,r,a)}function P(e,t,n,s){if(Object.is(e,t))return!0;let i=Te(e),r=Te(t);if(i===Ee&&(i=W),r===Ee&&(r=W),i!==r)return!1;switch(i){case He:return e.toString()===t.toString();case $e:{let c=e.valueOf(),l=t.valueOf();return mt(c,l)}case We:case ze:case Ke:return Object.is(e.valueOf(),t.valueOf());case Ye:return e.source===t.source&&e.flags===t.flags;case Qe:return e===t}n=n??new Map;let a=n.get(e),d=n.get(t);if(a!=null&&d!=null)return a===t;n.set(e,t),n.set(t,e);try{switch(i){case Xe:{if(e.size!==t.size)return!1;for(let[c,l]of e.entries())if(!t.has(c)||!R(l,t.get(c),c,e,t,n,s))return!1;return!0}case Je:{if(e.size!==t.size)return!1;let c=Array.from(e.values()),l=Array.from(t.values());for(let u=0;u<c.length;u++){let g=c[u],m=l.findIndex(_=>R(g,_,void 0,e,t,n,s));if(m===-1)return!1;l.splice(m,1)}return!0}case Ze:case tt:case ot:case nt:case rt:case at:case lt:case st:case ct:case it:case ut:case dt:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let c=0;c<e.length;c++)if(!R(e[c],t[c],c,e,t,n,s))return!1;return!0}case Ve:return e.byteLength!==t.byteLength?!1:P(new Uint8Array(e),new Uint8Array(t),n,s);case et:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:P(new Uint8Array(e),new Uint8Array(t),n,s);case qe:return e.name===t.name&&e.message===t.message;case W:{if(!(P(e.constructor,t.constructor,n,s)||_e(e)&&_e(t)))return!1;let c=[...Object.keys(e),...fe(e)],l=[...Object.keys(t),...fe(t)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){let g=c[u],m=e[g];if(!Object.hasOwn(t,g))return!1;let _=t[g];if(!R(m,_,g,e,t,n,s))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function It(){}function gt(e,t){return pt(e,t,It)}var he=(e,t,n)=>{let s={"status-value:pending":[],"status-value:success":[],"status-value:error":[],"status-value:warning":[],"status-value:unknown":[]};return(n?n.map(i=>e[i]).filter(Boolean):Object.values(e)).forEach(i=>{let r=i[t];r&&s[r.value].push(r.storyId)}),s},ye=(e,t)=>{let n=le(_=>_[y]),[s,i]=se(E),[r,a]=A(!1),d=te();N(()=>{let _=E.onStateChange((O,B)=>{gt(O.config,B.config)||(ve.settingsChanged(),a(!0),clearTimeout(d.current),d.current=setTimeout(()=>{a(!1)},1e3))});return()=>{_(),clearTimeout(d.current)}},[]);let c=ee(()=>t?e.findAllLeafStoryIds(t):void 0,[t,e]),l=F(_=>he(_,M,c),[c]),u=H(l),g=F(_=>he(_,G,c),[c]),m=H(g);return{storeState:s,setStoreState:i,testProviderState:n,componentTestStatusValueToStoryIds:u,a11yStatusValueToStoryIds:m,isSettingsUpdated:r}},_t=({timestamp:e})=>{let[t,n]=A(null);if(N(()=>{if(e){n(Date.now()-e);let d=setInterval(()=>n(Date.now()-e),1e4);return()=>clearInterval(d)}},[e]),t===null)return null;let s=Math.round(t/1e3);if(s<60)return"just now";let i=Math.floor(s/60);if(i<60)return i===1?"a minute ago":`${i} minutes ago`;let r=Math.floor(i/60);if(r<24)return r===1?"an hour ago":`${r} hours ago`;let a=Math.floor(r/24);return a===1?"yesterday":`${a} days ago`},ft=I.div(({theme:e})=>({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",fontSize:e.typography.size.s1,color:e.textMutedColor})),Tt=I.span(({theme:e})=>({color:e.color.positiveText}));function Et({entryId:e,storeState:t,testProviderState:n,isSettingsUpdated:s,...i}){let{setModalOpen:r}=o.useContext(z),{componentTestCount:a,totalTestCount:d,unhandledErrors:c,finishedAt:l}=t.currentRun,u=a.success+a.error,g="Not run";if(!e&&s)g=o.createElement(Tt,null,"Settings updated");else if(n==="test-provider-state:running")g=(u??0)===0?"Starting...":`Testing... ${u}/${d}`;else if(!e&&n==="test-provider-state:crashed")g=r?o.createElement($,{isButton:!0,onClick:()=>r(!0)},"View full error"):"Crashed";else if(!e&&c.length>0){let m=`View ${c.length} unhandled error${c?.length>1?"s":""}`;g=r?o.createElement($,{isButton:!0,onClick:()=>r(!0)},m):m}else e&&d?g=`Ran ${d} ${d===1?"test":"tests"}`:l?g=o.createElement(o.Fragment,null,"Ran ",d," ",d===1?"test":"tests"," ",o.createElement(_t,{timestamp:l})):t.watching&&(g="Watching for file changes");return o.createElement(ft,{...i},g)}var k=I.div(({percentage:e})=>({width:e?12:6,height:e?12:6,margin:e?1:4,background:e?`conic-gradient(var(--status-color) ${e}%, var(--status-background) ${e+1}%)`:"var(--status-color)",borderRadius:"50%"}),({isRunning:e,theme:t})=>e&&{animation:`${t.animation.glow} 1.5s ease-in-out infinite`},({status:e,theme:t})=>e==="positive"&&{"--status-color":t.color.positive,"--status-background":`${t.color.positive}66`},({status:e,theme:t})=>e==="warning"&&{"--status-color":t.color.gold,"--status-background":`${t.color.gold}66`},({status:e,theme:t})=>e==="negative"&&{"--status-color":t.color.negative,"--status-background":`${t.color.negative}66`},({status:e,theme:t})=>e==="critical"&&{"--status-color":t.color.defaultText,"--status-background":`${t.color.defaultText}66`},({status:e,theme:t})=>e==="unknown"&&{"--status-color":t.textMutedColor,"--status-background":`${t.textMutedColor}66`}),ht=I.div(({inContextMenu:e})=>({display:"flex",flexDirection:"column",paddingBottom:e?0:1})),bt=I.div({display:"flex",justifyContent:"space-between",padding:"8px 0",gap:12}),St=I.div({display:"flex",flexDirection:"column",marginLeft:8,minWidth:0}),be=I.div(({crashed:e,theme:t})=>({fontSize:t.typography.size.s1,fontWeight:e?"bold":"normal",color:e?t.color.negativeText:t.color.defaultText})),vt=I.div({display:"flex",gap:4}),yt=I(p)({padding:0}),At=I.span(({theme:e})=>({color:e.textMutedColor})),Ct=I(ie)({margin:4}),Ot=I(Ie)({width:10}),Se=({api:e,panelId:t,entryId:n})=>{let s=n?e.findAllLeafStoryIds(n)[0]:void 0;s&&e.selectStory(s),e.setSelectedPanel(t),e.togglePanel(!0)},Ae=({api:e,entry:t,testProviderState:n,storeState:s,setStoreState:i,componentTestStatusValueToStoryIds:r,a11yStatusValueToStoryIds:a,isSettingsUpdated:d,...c})=>{let{config:l,watching:u,cancelling:g,currentRun:m,fatalError:_}=s,O=m.componentTestCount.success+m.componentTestCount.error,B=w.experimental_getRegisteredAddons().includes(T),f=n==="test-provider-state:running",Ce=f&&O===0,[Oe,X]=_?["critical","Component tests crashed"]:r["status-value:error"].length>0?["negative","Component tests failed"]:f?["unknown","Testing in progress"]:r["status-value:success"].length>0?["positive","Component tests passed"]:["unknown","Run tests to see results"],[we,Re]=_?["critical","Component tests crashed"]:a["status-value:error"].length>0?["negative","Accessibility tests failed"]:a["status-value:warning"].length>0?["warning","Accessibility tests failed"]:f?["unknown","Testing in progress"]:a["status-value:success"].length>0?["positive","Accessibility tests passed"]:["unknown","Run tests to see accessibility results"];return o.createElement(ht,{...c,inContextMenu:!!t},o.createElement(bt,null,o.createElement(St,null,t?o.createElement(be,{id:"testing-module-title"},"Run component tests"):o.createElement(be,{id:"testing-module-title",crashed:n==="test-provider-state:crashed"||_!==void 0||m.unhandledErrors.length>0},m.unhandledErrors.length===1?"Component tests completed with an error":m.unhandledErrors.length>1?"Component tests completed with errors":_?"Component tests didn\u2019t complete":"Run component tests"),o.createElement(Et,{id:"testing-module-description",storeState:s,testProviderState:n,entryId:t?.id,isSettingsUpdated:d})),o.createElement(vt,null,!t&&o.createElement(ue,{ariaLabel:f?"Watch mode (cannot toggle while running)":"Watch mode",tooltip:f?"Watch mode unavailable while running":`Watch mode is ${u?"enabled":"disabled"}`,padding:"small",size:"medium",variant:"ghost",pressed:u,onClick:()=>E.send({type:"TOGGLE_WATCHING",payload:{to:!u}}),disabled:f},o.createElement(de,null)),f?o.createElement(C,{ariaLabel:g?"Stop test run (already stopping...)":"Stop test run",padding:"none",size:"medium",variant:"ghost",onClick:()=>E.send({type:"CANCEL_RUN"}),disabled:g||Ce},o.createElement(Ct,{percentage:O&&s.currentRun.totalTestCount?O/s.currentRun.totalTestCount*100:void 0},o.createElement(Ot,null))):o.createElement(C,{ariaLabel:"Start test run",padding:"small",size:"medium",variant:"ghost",onClick:()=>{let h;t&&(h=t.type==="story"?[t.id]:e.findAllLeafStoryIds(t.id)),E.send({type:"TRIGGER_RUN",payload:{storyIds:h,triggeredBy:t?.type??"global"}})}},o.createElement(pe,null)))),o.createElement(yt,null,o.createElement(p.Item,null,t?o.createElement(p.Text,null,"Interactions"):o.createElement(p.Action,{as:"label",readOnly:!0},o.createElement(p.Icon,null,o.createElement(D.Checkbox,{name:"Interactions",checked:!0,disabled:!0})),o.createElement(p.Text,null,"Interactions")),o.createElement(p.Button,{ariaLabel:`${X}${r["status-value:error"].length+r["status-value:warning"].length>0?` (${r["status-value:error"].length+r["status-value:warning"].length} errors or warnings so far)`:""}`,tooltip:X,disabled:r["status-value:error"].length===0&&r["status-value:warning"].length===0&&r["status-value:success"].length===0,onClick:()=>{Se({api:e,panelId:U,entryId:r["status-value:error"][0]??r["status-value:warning"][0]??r["status-value:success"][0]??t?.id})}},o.createElement(k,{status:Oe,isRunning:f}),r["status-value:error"].length+r["status-value:warning"].length||null)),!t&&o.createElement(p.Item,null,o.createElement(p.Action,{as:"label",readOnly:f,ariaLabel:!1},o.createElement(p.Icon,null,o.createElement(D.Checkbox,{name:"Coverage",checked:l.coverage,disabled:f,onChange:()=>i(h=>({...h,config:{...h.config,coverage:!l.coverage}}))})),o.createElement(p.Text,null,u?o.createElement(At,null,"Coverage (unavailable)"):"Coverage")),u||m.triggeredBy&&!V.includes(m.triggeredBy)?o.createElement(p.Button,{disabled:!0,ariaLabel:u?"Coverage unavailable in watch mode":"Coverage only available after running all tests"},o.createElement(me,null)):m.coverageSummary?o.createElement(p.Button,{asChild:!0,ariaLabel:f?"Open coverage report (testing still in progress)":`Open coverage report (${m.coverageSummary.percentage}% coverage)`},o.createElement("a",{href:"/coverage/index.html",target:"_blank"},o.createElement(k,{isRunning:f,percentage:m.coverageSummary.percentage,status:m.coverageSummary.status}),m.coverageSummary.percentage,"%")):o.createElement(p.Button,{disabled:!0,ariaLabel:f?"Coverage unavailable, testing still in progress":_?"Coverage unavailable, component tests crashed":"Coverage unavailable, run tests first"},o.createElement(k,{isRunning:f,status:_?"critical":"unknown"}))),B&&o.createElement(p.Item,null,t?o.createElement(p.Text,null,"Accessibility"):o.createElement(p.Action,{as:"label",readOnly:f,ariaLabel:!1},o.createElement(p.Icon,null,o.createElement(D.Checkbox,{name:"Accessibility",checked:l.a11y,disabled:f,onChange:()=>i(h=>({...h,config:{...h.config,a11y:!l.a11y}}))})),o.createElement(p.Text,null,"Accessibility")),o.createElement(p.Button,{ariaLabel:Re,disabled:a["status-value:error"].length===0&&a["status-value:warning"].length===0&&a["status-value:success"].length===0,onClick:()=>{Se({api:e,entryId:a["status-value:error"][0]??a["status-value:warning"][0]??a["status-value:success"][0]??t?.id,panelId:x})}},o.createElement(k,{status:we,isRunning:f}),a["status-value:error"].length+a["status-value:warning"].length||null))))},wt=({context:e,api:t})=>{let{testProviderState:n,componentTestStatusValueToStoryIds:s,a11yStatusValueToStoryIds:i,storeState:r,setStoreState:a}=ye(t,e.id);return o.createElement(Ae,{api:t,entry:e,style:{minWidth:240},testProviderState:n,componentTestStatusValueToStoryIds:s,a11yStatusValueToStoryIds:i,storeState:r,setStoreState:a,isSettingsUpdated:!1})};w.register(y,e=>{if(globalThis.STORYBOOK_BUILDER===ne.VITE){let t=n=>{e.setSelectedPanel(n),e.togglePanel(!0)};ke.onSelect(()=>{t(U)}),Be.onSelect(()=>{t(x)}),ve.onRunAll(()=>{E.send({type:"TRIGGER_RUN",payload:{triggeredBy:"run-all"}})}),E.untilReady().then(()=>{E.setState(n=>({...n,indexUrl:new URL("index.json",window.location.href).toString()})),E.subscribe("TEST_RUN_COMPLETED",({payload:n})=>{e.emit(Z,{type:"test-run-completed",payload:n})})}),w.add(J,{type:oe.experimental_TEST_PROVIDER,render:()=>{let[n,s]=A(!1),{storeState:i,setStoreState:r,testProviderState:a,componentTestStatusValueToStoryIds:d,a11yStatusValueToStoryIds:c,isSettingsUpdated:l}=ye(e);return o.createElement(z.Provider,{value:{isModalOpen:n,setModalOpen:s}},o.createElement(Ae,{api:e,storeState:i,setStoreState:r,isSettingsUpdated:l,testProviderState:a,componentTestStatusValueToStoryIds:d,a11yStatusValueToStoryIds:c}),o.createElement(Fe,{storeState:i,onRerun:()=>{s(!1),E.send({type:"TRIGGER_RUN",payload:{triggeredBy:"global"}})}}))},sidebarContextMenu:({context:n})=>n.type==="docs"||n.type==="story"&&!n.tags.includes("test")?null:o.createElement(wt,{context:n,api:e})})}});})();
}catch(e){ console.error("[Storybook] One of your manager-entries failed: " + import.meta.url, e); }
